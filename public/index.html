<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My first Three.js app</title>
    <link rel="stylesheet" href="stylesheets/style.css">
    <script src="/javascripts/html2canvas.js"></script>
    <script src="https://rawgithub.com/mrdoob/three.js/master/build/three.js"></script>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>

<canvas id="canvas" width="500" height="1000"></canvas>
<div id="html" style="width: 500px; height: 1000px">
    <div class="perspective">
        <div class="tardis-wrap">
            <div class="tardis">
                <!-- start of side -->
                <div class="side">
                    <div class="top-sign">
                        <div class="text">
                            <span class="left">POLICE</span>
                            <span class="tiny">PUBLIC CALL</span>
                            <span class="right">BOX</span>
                        </div>
                    </div>
                    <div class="door-frame">
                        <div class="door door-left">
                            <div class="door-inset"></div>
                            <div class="door-inset b"></div>
                            <div class="sign"></div>
                            <div class="window">
                                <div class="pane a"></div><div class="pane b"></div><div class="pane c"></div>
                                <div class="pane d"></div><div class="pane e"></div><div class="pane f"></div>
                            </div>
                        </div>
                        <div class="door door-right">
                            <div class="door-inset"></div>
                            <div class="door-inset b"></div>
                            <div class="door-inset c"></div>
                            <div class="window">
                                <div class="pane a"></div><div class="pane b"></div><div class="pane c"></div>
                                <div class="pane d"></div><div class="pane e"></div><div class="pane f"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end of side -->

                <!-- start of side -->
                <div class="side">
                    <div class="top-sign">
                        <div class="text">
                            <span class="left">POLICE</span>
                            <span class="tiny">PUBLIC CALL</span>
                            <span class="right">BOX</span>
                        </div>
                    </div>
                    <div class="door-frame">
                        <div class="door door-left">
                            <div class="door-inset"></div>
                            <div class="door-inset b"></div>
                            <div class="door-inset c"></div>
                            <div class="window">
                                <div class="pane a"></div><div class="pane b"></div><div class="pane c"></div>
                                <div class="pane d"></div><div class="pane e"></div><div class="pane f"></div>
                            </div>
                        </div>
                        <div class="door door-right">
                            <div class="door-inset"></div>
                            <div class="door-inset b"></div>
                            <div class="door-inset c"></div>
                            <div class="window">
                                <div class="pane a"></div><div class="pane b"></div><div class="pane c"></div>
                                <div class="pane d"></div><div class="pane e"></div><div class="pane f"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end of side -->

                <!-- start of side -->
                <div class="side">
                    <div class="top-sign">
                        <div class="text">
                            <span class="left">POLICE</span>
                            <span class="tiny">PUBLIC CALL</span>
                            <span class="right">BOX</span>
                        </div>
                    </div>
                    <div class="door-frame">
                        <div class="door door-left">
                            <div class="door-inset"></div>
                            <div class="door-inset b"></div>
                            <div class="door-inset c"></div>
                            <div class="window">
                                <div class="pane a"></div><div class="pane b"></div><div class="pane c"></div>
                                <div class="pane d"></div><div class="pane e"></div><div class="pane f"></div>
                            </div>
                        </div>
                        <div class="door door-right">
                            <div class="door-inset"></div>
                            <div class="door-inset b"></div>
                            <div class="door-inset c"></div>
                            <div class="window">
                                <div class="pane a"></div><div class="pane b"></div><div class="pane c"></div>
                                <div class="pane d"></div><div class="pane e"></div><div class="pane f"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end of side -->

                <!-- start of side -->
                <div class="side">
                    <div class="top-sign">
                        <div class="text">
                            <span class="left">POLICE</span>
                            <span class="tiny">PUBLIC CALL</span>
                            <span class="right">BOX</span>
                        </div>
                    </div>
                    <div class="door-frame">
                        <div class="door door-left">
                            <div class="door-inset"></div>
                            <div class="door-inset b"></div>
                            <div class="door-inset c"></div>
                            <div class="window">
                                <div class="pane a"></div><div class="pane b"></div><div class="pane c"></div>
                                <div class="pane d"></div><div class="pane e"></div><div class="pane f"></div>
                            </div>
                        </div>
                        <div class="door door-right">
                            <div class="door-inset"></div>
                            <div class="door-inset b"></div>
                            <div class="door-inset c"></div>
                            <div class="window">
                                <div class="pane a"></div><div class="pane b"></div><div class="pane c"></div>
                                <div class="pane d"></div><div class="pane e"></div><div class="pane f"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end of side -->

                <div class="roof"></div>


                <div class="roof-top">
                    <div class="roof-panel a"></div>
                    <div class="roof-panel b"></div>
                    <div class="roof-panel c"></div>
                    <div class="roof-panel d"></div>
                    <div class="top-lid"></div>
                </div>


                <div class="light">
                    <div class="light-panel a"><div class="bottom"></div><div class="top"></div></div>
                    <div class="light-panel b"><div class="bottom"></div><div class="top"></div></div>
                    <div class="light-panel c"><div class="bottom"></div><div class="top"></div></div>
                    <div class="light-panel d"><div class="bottom"></div><div class="top"></div></div>
                    <div class="light-lid"></div>
                </div>


                <!-- start of floor -->
                <div class="floor">
                    <div class="floor-panel a"></div>
                    <div class="floor-panel b"></div>
                    <div class="floor-panel c"></div>
                    <div class="floor-panel d"></div>
                    <div class="floor-lid"></div>
                </div>
                <!-- end of floor -->


            </div>
        </div>


    </div>
</div>

<script>

    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");

    var data = "<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'>" +
            "<foreignObject width='100%' height='100%'>" +
            "<div xmlns='http://www.w3.org/1999/xhtml'>" +

            document.getElementById('html').innerHTML +

            "</div>" +
            "</foreignObject>" +
            "</svg>";

    var DOMURL = self.URL || self.webkitURL || self;
    var img = new Image();
    var svg = new Blob([data], {
        type: "image/svg+xml;charset=utf-8"
    });

    var url = DOMURL.createObjectURL(svg);
    img.onload = function () {
        ctx.drawImage(img, 0, 0);
        DOMURL.revokeObjectURL(url);
    };
    img.src = url;

</script>

</body>
</html>